<div class="container">

  <div class="header clearfix">
    <nav>
      <ul class="nav nav-pills float-right">
        <% if current_user %>
          <li class="nav-item">
            <%= link_to 'Log out',signout_path %>
          </li>
        <% else %>
          <li class="nav-item">
            <a class="nav-link active" href="/auth/github">Sign<span class="sr-only">(current)</span></a>
          </li>
        <% end %>
      </ul>
    </nav>
    <%= link_to root_path do %>
      <%= image_tag 'faas-ruby.png', height: 40, witdth: 40, alt: 'We need Serverless Ruby' %>
    <% end %>
  </div>

  <% if notice %>
    <div class="alert alert-warning" role="alert">
      <%= notice %>
    </div>
  <% end %>

  <div class="jumbotron">
    <h1 class="display-3">We demand FaaS for Ruby&nbsp;!</h1>
    <p class="lead">
      This is an online petition to show that Ruby community is prepared to
      go <a href="https://martinfowler.com/articles/serverless.html">Serverless</a>
      and show <a href="https://en.wikipedia.org/wiki/Function_as_a_service" title="e.g.: AWS Lambda, Azure Functions, ...)" >Function as a Service</a>
      providers that there is a value and market potential to support Ruby MRI.
    </p>

    <p>If you are a software developer / CTO who see value in Ruby FaaS for your projects please sign this petition by clicking the green button.</p>

    <% if current_user %>
      <p class="text-success">
        Thank you ! You've signed the petition.
      </p>

      <p>
        If you ever change your mind and you will want to remove your name from the list
        you can do so by clicking this link:
        <%= link_to unsign_path, class: 'text-danger',role: "button", data: { confirm: 'Are you sure you want to remove yourself from the list ?'} do %>
          Remove myself <%= fa_icon('frown') %>
        <% end %>
      </p>
    <% else %>
      <p>
        <%= link_to '/auth/github', class: 'btn btn-lg btn-success',role: "button" do %>
          Sign the petition with Github <%= fa_icon("github") %>
        <% end %>
      </p>
    <% end %>
  </div>

  <h2>What is FaaS and Serverless</h2>

  <p>
  <strong>FaaS (Function as a Service)</strong> is a way how you can execute your code
  in the cloud while paying only for execution time (and memory consumption)
  without the need of maintaining your infrastructure
  (read more <a href="https://en.wikipedia.org/wiki/Function_as_a_service">here</a>).
  </p>

  <p>
  Providers like <a href="https://aws.amazon.com/lambda/">AWS Lambda</a>, <a href="https://azure.microsoft.com/en-us/services/functions/">Azure Functions</a>, ...
  already support languages like Java, Python or JavaScript so that you can build complex
  Microservice alike web applications without the worry of the infrastructure overhead.
  </p>

  <p>
  Applications built with combination of cloud solutions like FaaS (AWS Lambda, Azure Functions,...),
  cloud databases (DynamoDB, Firebase,...), cloud authentication solutions (Auth0, AWS cognito,...)
  and other cloud solutions is what we call <strong>Serverless</strong> (read more <a href="https://martinfowler.com/articles/serverless.html">here</a>)
  </p>

  <p>
  FaaS products like AWS Lambda are to "compute" similar what  AWS S3 is to "storage".
  It's the new era of web application Architecture and Ruby community wants to be in the front line !
  </p>


  <h2>What is the point of this Website ?</h2>

  <p>
  The hearth of every application is computing power. Serverless is not different.
  That's why it's so critical
  to have Ruby available for FaaS.
  </p>

  <p>
  Goal of this website is to prove to FaaS providers there is a large demand
  from Ruby community in building applications this way with Ruby language
  </p>

  <p>
  All FaaS providers are driven by market value when choosing what programming language
  will they support next. If more developers will bother them
  with requesting Ruby then more likely it is it will get available.
  </p>


  <h2>Want to help more ?</h2>

  <p>
  Please sign the petition by clicking on the green button on top of the page.
  </p>

  <p>
    If you done so and want to help more, please
    write a support comment or <%= fa_icon('thumbs-up') %>  in these discussion threads: <a href="https://forums.aws.amazon.com/thread.jspa?messageID=758159">AWS Forum</a>,
    <a href="https://github.com/Azure/Azure-Functions/issues/705">Microsoft Azure Functions Github</a>. You can also
    respond to this <a href="https://twitter.com/awscloud/status/659795641204260864?lang=en">tweet from AWS</a>
  </p>

  <p class="text-muted">
  This website can be found in this <a href="https://github.com/equivalent/we_demand_serverless_ruby">Github repo</a>.
  Have you found a typo / bug ? Have ideas to improve it? Please raise an issue or create PR. Thank you.
  </p>

  <h2><strong><%= User.count %></strong> Developers already signed:</h2>


  <% @users.in_groups_of(3).each do |users_trio| %>
    <div class="row marketing">
      <% users_trio.each do |user| %>
        <div class="col-md-4">
          <% if user %>
            <div class="row">
              <div class="col-sm-3">
                <%= image_tag user.avatar_url, alt: user.username, class: 'rounded-circle', height: 75, width: 75 %>
              </div>

              <div class="col-sm-9">
                <h4><%= user.username %></h4>
                <div><%= link_to user.url do %><%= fa_icon("github") %> profile<% end %></div>
                <div><%= l(user.created_at, format: :short) %></div>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
  <% end %>


  <h2>Existing FaaS providers and FaaS solutions for Ruby</h2>

  <h4>Kubeless</h4>
  <p>
  <a href="http://kubeless.io/">Kubeless</a> is a Serverless framework
  basked on <a href="https://kubernetes.io">Kubernetes</a> (container orchestration).
  </p>

  So you are able to run your own FaaS provider that supports Ruby.

  Technically speaking you need to pay for uptime of VMs supporting those
  Docker containers (not as AWS "pay for what you use based on 100ms of usage")

  This may be a great solution for companies that don't want to lock
  their infrastructure to particular provider and are not affraid to
  maintain the entire FaaS infrastructure themself.

  <h4>Iron Functions</h4>

  <p>
    <a href="http://open.iron.io">Iron Functions</a> is an open source serverless
    computing platform by <a href="https://www.iron.io">Iron.io</a>.
  </p>

  <p>
    You can run &amp; maintain this platform yourself or you can use provider
    Iron.io to run this for you.
    They have a monthly pricing for alocated computing power.
  </p>

  <ul>
    <li><a href="https://github.com/iron-io/functions/tree/master/examples/hello/ruby">ruby examples</a></li>
    <li><a href="https://try.iron.io/pricing-worker-monthly/">Iron.io Pricing</a></li>
  </ul>

  <footer class="footer">
    <h4>Want to try FaaS with Ruby Now ?</h4>
    <ul>
      <li><a href="https://aws.amazon.com/blogs/compute/scripting-languages-for-aws-lambda-running-php-ruby-and-go/">Run traveling Ruby on AWS Lambda</a></li>
      <li><a href="https://www.youtube.com/watch?v=3NdFzhIvUQA">James Thompson: "Serverless" Ruby on AWS Lambda (JRuby)</a></li>
    </ul>
  </footer>
</div> <!-- /container -->
